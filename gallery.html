<!DOCTYPE html>
<html>
    <head>
        <title>Hannah Huber - Gallery</title>
        <link rel="shortcut icon" href="./photos/logo.png">
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
        <script src="https://kit.fontawesome.com/7ad589b60a.js" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
        <meta content="width=device-width, initial-scale=1" name="viewport" />
    </head>
    <body>
        <div class="backWrapper show">
            <a href="index.html"><img class="backButton" src="./photos/back.png"></a>
        </div>
        <!-- <div class="logoWrapper show">
            <img class="logo" src="./photos/logo.png">
        </div> -->
        <div class="container show">
            <div class="heading show">
                <h1 id="galleryTitle"></h1>
            </div>

            <div class="box">
              <div class="imgCol">
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                  </div>
                  <div class="imgWrap">
                  </div>
              </div>
      
              <div class="imgCol">
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                  </div>
                  <div class="imgWrap">
                  </div>
              </div>
      
              <div class="imgCol">
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                </div>
                <div class="imgWrap">
                  </div>
                  <div class="imgWrap">
                  </div>
              </div>
            </div>
          </div>

        <script>
            let galleryName = window.localStorage.getItem("galleryId").replaceAll("-", " ");
            document.getElementById("galleryTitle").innerHTML = galleryName;
            //let images = document.getElementsByClassName("image");
            let images = document.getElementsByClassName("imgWrap");
            let imgCount = localStorage.getItem('imgCount');
            let imgIndex = 0;
            let nextCol = 1;

            // for (let i = localStorage.getItem('imgCount') - 1; i < images.length; i++) {
            //     images[i].id= "inactive";
            // }

            // for (let i = 0; i < localStorage.getItem('imgCount'); i++) {
            //     if (i % 3 == 0 && i != 0) {
            //         imgIndex = nextCol;
            //         nextCol++;
            //     }

            //     images[imgIndex].src = `./photos/${localStorage.getItem("galleryId")}/photo${i}.jpg`;
            //     images[imgIndex].id = "active";
            //     imgIndex = imgIndex + 5;
            // }

            for (let i = 0; i < imgCount; i++) {
                if (i % 3 == 0 && i != 0) {
                    imgIndex = nextCol;
                    nextCol++;
                }
                if (imgCount % 2 != 0 && imgCount % 3 != 0 && i == (imgCount-1)) {
                    
                    imgIndex = imgIndex + 5;
                    console.log(imgIndex);
                }

                images[imgIndex].innerHTML = `<img class="image" src="./photos/${localStorage.getItem("galleryId")}/photo${i}.jpg">`;
                images[imgIndex].id = "active";
                imgIndex = imgIndex + 5;
            }
        </script>

        <script>
            $(document).ready(function() {
            $(window).scroll( function(){
                $('.hideme').each( function(i){
                var bottom_of_object = $(this).position().top + $(this).outerHeight();
                var bottom_of_window = $(window).scrollTop() + $(window).height();

                if( bottom_of_window > bottom_of_object / 1.2 ){
                    this.classList = "show";
                }  
                }); 
            });
            });
        </script>
    </body>
</html>